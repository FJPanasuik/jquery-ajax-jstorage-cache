$.ajaxPrefilter(function(options,originalOptions,jqXHR){if(options.cacheJStorage==undefined||!options.cacheJStorage)return;var cacheKey;if(options.cacheKey)cacheKey=options.cacheKey;else cacheKey=options.url+options.type+options.data;if(options.isCacheValid&&!options.isCacheValid()){$.jStorage.deleteKey(cacheKey)}if($.jStorage.get(cacheKey)){options.success($.jStorage.get(cacheKey));jqXHR.abort()}else{if(options.success){var successhandler=options.success;options.success=function(data){$.jStorage.set(cacheKey,data);successhandler(data)}}else{options.success=function(data){$.jStorage.set(cacheKey,data)}}}});